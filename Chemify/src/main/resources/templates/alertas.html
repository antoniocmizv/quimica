<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Alertas de Stock</title>
    <link rel="stylesheet" href="css/estilo-alertas.css">
</head>
<body>
<div class="home-button-container" style="position: absolute; top: 10px; left: 10px;">
    <button onclick="window.location.href='/busqueda'">Página Principal</button>
</div>
<div class="logout-container">
    <form action="/logout" method="post">
        <input type="submit" value="Cerrar Sesión"/>
    </form>
</div>
<div class="contenedor">
    <h1>Alertas de Stock</h1>
    <h2>Si quieres que se te envíen estas alertas al correo electrónico, introduce tu correo a continuación:</h2>

    <form id="emailForm" action="/enviarAlertas" method="post">
        <input type="email" id="email" name="email" required>
        <input type="submit" value="Enviar Alertas">
    </form>

    <textarea th:text="${mensaje}"> </textarea>
</div>

<script>
    document.getElementById('emailForm').addEventListener('submit', function (event) {
        var email = document.getElementById('email').value;
        var regex = /^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/;

        if (!regex.test(email)) {
            alert('Por favor, introduce un correo electrónico válido.');
            event.preventDefault();
        }
    });
</script>

</body>
</html>